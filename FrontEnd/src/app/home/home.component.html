<nav class="navbar bg-body-tertiary sticky-top bg-dark" data-bs-theme="dark">
    <div class="container-fluid">
        <a class="navbar-brand" routerLink="/home">
            <img src="/assets/img/svg/angular_chatgpt_logo.svg" alt="Logo" width="30" height="24" class="d-inline-block align-text-top">
            Learn Angular w\ChatGPT
        </a>
      <form class="d-flex" *ngIf="authenticated">
        <button type="button" class="btn btn-outline-danger" (click)="logout()">Logout</button>
      </form>
    </div>
</nav>

<div class="px-4 my-5 text-center">
    <img class="d-block mx-auto mb-4" src="/assets/img/svg/angular_chatgpt_logo.svg" alt="" width="70rem">
    <h1 class="display-5 fw-bold text-body-emphasis">Learn Angular GPT</h1>
    <h2 class="display-8 text-body-emphasis">{{welcome}}</h2>
    <div class="col-lg-6 mx-auto">
      <p class="lead mb-4">Learn Angular with questions generated by ChatGPT in realtime! You can press the Next button to browse already loaded questions or press the Generate New button to get a brand new, never seen before ChatGPT question. ChatGPT validates the question and gives feedback too!</p>
    </div>
  </div>

  <div class="container my-5">
    <div class="row p-4 pb-0 pe-lg-0 pt-lg-5 align-items-center rounded-3 border shadow-lg">
      <div class="col-lg-7 p-3 p-lg-5 pt-lg-3">
        <h1 class="display-4 fw-bold lh-1 text-body-emphasis">{{question}}</h1>
        
        <p class="lead">
          <!-- True/False or Multiple Choice questions: -->
          <div *ngIf="show; else notShow">
            <p class="lead">Select the correct option:</p>
            <mat-radio-group
                aria-labelledby="example-radio-group-label"
                class="example-radio-group" [(ngModel)]="selectedAnswer">
                  <mat-radio-button 
                    class="example-radio-button" *ngFor="let option of questionOptions" [value]="option.value">
                    {{option.text}}
                  </mat-radio-button>
              </mat-radio-group>
          </div>
          <!-- Input question type: -->
          <ng-template #notShow>
            <div class="input-group px-4 py-4">
              <span class="input-group-text">Your Answer</span>
              <textarea class="form-control" aria-label="Your Answer" style="height: 93px;" [(ngModel)]="selectedAnswer"></textarea>
            </div>
          </ng-template>
          <div class="d-grid gap-2 d-md-flex justify-content-md-start mb-4 mb-lg-3">
            <button class="btn btn-success btn-lg px-4 me-md-2 fw-bold" (click)="test()" >
              <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-check-lg" viewBox="0 1 16 16">
                <path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"/>
              </svg>
              Test</button>
            <button type="submit" class="btn btn-outline-secondary btn-lg px-4 me-md-2 " (click)="next()">Next ></button>
          </div>
          <div class="d-grid gap-2 d-md-flex justify-content-md-start mb-4 mb-lg-3">
            <button type="submit" class="btn btn-primary btn-lg px-4 me-md-2 fw-bold" (click)="reload()">Generate New 
              <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-chat-dots" viewBox="0 1 16 16">
                <path d="M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                <path d="m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9.06 9.06 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.437 10.437 0 0 1-.524 2.318l-.003.011a10.722 10.722 0 0 1-.244.637c-.079.186.074.394.273.362a21.673 21.673 0 0 0 .693-.125zm.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6c0 3.193-3.004 6-7 6a8.06 8.06 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a10.97 10.97 0 0 0 .398-2z"/>
              </svg>
            </button>
          </div>
          <div class="alert {{resultType}}" role="alert" *ngIf="message">
           {{result}}
          </div>
      </div>
      <div class="col-lg-4 offset-lg-1 p-0 overflow-hidden shadow-lg">
        <img class="rounded-lg-3" src="/assets/img/angular_learnchatgpt_screenshot.jpg" alt="" width="460">
      </div>
    </div>
  </div>
<!--
  <div class="dropdown">
    <select class="btn btn-secondary dropdown-toggle" [(ngModel)]="pachuli">
      <option value="null" [disabled]="true">Select option:</option>
      <option class="dropdown-item" *ngFor="let title of pachulo" value="{{title.value}}">{{title.text}}</option>
    </select>
  </div> -->
  <p>{{pachuli}}</p>

  <div class="bg-dark text-secondary px-4 py-5 text-center">
    <div class="py-5">
      <h1 class="display-10 fw-bold text-white">By Leire Sesma and Eneko Pizarro</h1>
      <div class="col-lg-6 mx-auto">
        <p class="fs-10 mb-4">Developed using ChatGPT API, Angular and Node.js express for the last assigment of the course of HADS (Herramientas Avanzadas del Desarrollo Software) of the Computer Engineering bachelor of EHU/UPV.</p>
        <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
            <button type="button" class="btn btn-outline-success btn-lg px-4 me-sm-3 fw-bold">
              <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-github" viewBox="0 1 20 16">
              <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
              </svg>
              GitHub Repo
            </button>
        </div>
      </div>
    </div>
  </div>